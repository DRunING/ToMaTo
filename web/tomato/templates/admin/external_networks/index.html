{% extends "admin/base.html" %}

{% load tomato %}

{% block content %}
<h1>List of External Networks</h1>

{% if netw_list|length > 10 and request.session.user.isHostManager %}
	<p><input type="button" onClick="window.location='{%url external_networks.add%}'" value="Add external network" /></p>
{% endif %}

{% if netw_list %}
	<script src="/js/enhancetable.js"></script>
	
	
	<table class="sortable,filterable table table-striped">
	  <tr>
	    <th>Label</th>
	  	<th>Kind</th>
	    <th>Preference</th>
	  	<th>Description</th>
	    
	    {% if request.session.user.isHostManager %}
	    	<th />
	    {% endif %}
	    
	  </tr>
	{% for netw in netw_list %}
	  <tr>
	  	<td>{{netw.attrs.label}}</td>
	  	<td>{{netw.attrs.kind}}</td>
	  	<td>{{netw.attrs.preference}}</td>
	  	
	  	<td>{% if netw.attrs.description %}
		<div class="hoverdescription">
			<img src="/img/info.png" alt="i" />
			<div class="hiddenbox">
				{{ netw.attrs.description|linebreaks|escape|simpletags:"b i em strong"|safe }}
			</div>
		</div>
		{%endif%}</td>
	  	
	    
	    {% if request.session.user.isHostManager %}
	    	<td>
	    		<a href="{%url external_networks.edit netw.id%}"><img src="/img/pencil.png" title="edit" /></a>
	    		&nbsp;
	    		<a href="{%url external_networks.remove netw.id%}" ><img src="/img/cross.png" title="remove" /></a>
			</td>
	    {% endif %}
	    
	  </tr>
	{% endfor %}
	</table>
{% else %}
	No external networks
{% endif %}

{% if request.session.user.isHostManager %}
	<p><input type="button" onClick="window.location='{%url external_networks.add%}'" value="Add external networks" /></p>
{% endif %}

{% endblock %}
